# GrantApp AI ‚Äî Project Context Dossier v2
> For agents picking up this project. Read fully before touching anything.
> Supersedes GRANTAPP_DOSSIER.md. Last updated: 2026-02-19.

---

## 1. Brand & Vision

**Brand:** GrantApp AI (`grantapp.ai`)
**Tagline:** The best matriculation exam prep site in Africa.
**Product name:** GrantApp (never "UTMEDaily" ‚Äî that was a working repo name, not the brand)
**Design voice:** Dark, premium, technical. Think Linear/Vercel energy for African students.
**Repo:** `https://github.com/artificialiman/UTMEDaily` (rename pending ‚Äî treat as temporary)
**Question bank repo:** `https://github.com/artificialiman/Questt-resources`

---

## 2. Tech Stack & Architecture Principles

**Stack:** Pure static HTML + CSS + Vanilla JS. Zero frameworks, zero bundlers, zero fetches at runtime.

**Rules the owner cares about deeply:**
- Markup and scripting are separated cleanly ‚Äî HTML for structure, JS only for UI behaviour, CSS for style
- JS is NEVER used for routing or state management across pages ‚Äî that is HTML's job (`<a href="">`)
- JS is used sparingly and deliberately. The owner is very careful about where JS lives
- Questions are embedded directly in each quiz HTML file as a `const QUESTIONS = [...]` array
- `DURATION` (seconds) is declared at the top of each quiz file
- `quiz-app.js` is shared across all quiz files ‚Äî it reads `QUESTIONS` and `DURATION` from the page, handles all UI behaviour
- **New files are generated by Python, not hand-authored** ‚Äî `mint_quiz.py` stamps question data into an HTML template (see Section 8)
- No page should ever dead-end on GitHub's 404 ‚Äî all dead links route to our own `coming-soon.html`

**Fonts:** Syne (headings, 800/700/600) + DM Sans (body, 300/400/500) + Space Mono (badges, mono labels) ‚Äî Google Fonts CDN
**Icons:** Font Awesome 6.0.0 ‚Äî `https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css`

---

## 3. Page Architecture (Current)

```
index.html          ‚Üê ALL exams landing hub (built this session ‚Äî not yet in repo)
    ‚îÇ
    ‚îú‚îÄ‚îÄ jamb.html   ‚Üê JAMB stream selector (owner kept original index.html, did not deploy jamb.html)
    ‚îÇ       ‚îú‚îÄ‚îÄ science_clusters.html
    ‚îÇ       ‚îú‚îÄ‚îÄ commercial_clusters.html
    ‚îÇ       ‚îî‚îÄ‚îÄ art_clusters.html
    ‚îÇ
    ‚îú‚îÄ‚îÄ coming-soon.html   ‚Üê DOES NOT EXIST YET ‚Äî all dead links need this
    ‚îî‚îÄ‚îÄ [wassce, ap-exams, 10k-mastery] ‚Üê future, route to coming-soon.html for now
```

**IMPORTANT ‚Äî index.html decision:** The owner chose to keep their own `index.html` (the JAMB stream selector) unchanged in the repo. The new all-exams hub `index.html` built this session is ready to deploy but has not been pushed. When it is deployed, the existing `index.html` (JAMB page) will need to be renamed to `jamb.html` or `home.html` ‚Äî this decision was not finalised. Confirm with owner before touching repo structure.

---

## 4. File Inventory (Raw GitHub URLs)

### Core App Files
```
https://raw.githubusercontent.com/artificialiman/UTMEDaily/refs/heads/main/quiz-app.js
https://raw.githubusercontent.com/artificialiman/UTMEDaily/refs/heads/main/quiz-styles.css
https://raw.githubusercontent.com/artificialiman/UTMEDaily/refs/heads/main/styles.css
```

### Landing & Stream Selection
```
https://raw.githubusercontent.com/artificialiman/UTMEDaily/refs/heads/main/index.html
https://raw.githubusercontent.com/artificialiman/UTMEDaily/refs/heads/main/science_clusters.html
https://raw.githubusercontent.com/artificialiman/UTMEDaily/refs/heads/main/commercial_clusters.html
https://raw.githubusercontent.com/artificialiman/UTMEDaily/refs/heads/main/art_clusters.html
```

### Existing Quiz Files (Live in Repo)
```
https://raw.githubusercontent.com/artificialiman/UTMEDaily/refs/heads/main/quiz-science-bepc.html
https://raw.githubusercontent.com/artificialiman/UTMEDaily/refs/heads/main/quiz-commerce-a.html
https://raw.githubusercontent.com/artificialiman/UTMEDaily/refs/heads/main/quiz-chemistry.html
https://raw.githubusercontent.com/artificialiman/UTMEDaily/refs/heads/main/quiz-mathematics.html
```

### Question Bank (Raw txt ‚Äî 35 questions each)
```
https://raw.githubusercontent.com/artificialiman/Questt-resources/refs/heads/main/archive/day-1-2/JAMB_English_Q1-35.txt
https://raw.githubusercontent.com/artificialiman/Questt-resources/refs/heads/main/archive/day-1-2/JAMB_Biology_Q1-35.txt
https://raw.githubusercontent.com/artificialiman/Questt-resources/refs/heads/main/archive/day-1-2/JAMB_Chemistry_Q1-35.txt
https://raw.githubusercontent.com/artificialiman/Questt-resources/refs/heads/main/archive/day-1-2/JAMB_Government_Q1-35.txt
https://raw.githubusercontent.com/artificialiman/Questt-resources/refs/heads/main/archive/day-1-2/JAMB_Literature_Q1-35.txt
https://raw.githubusercontent.com/artificialiman/Questt-resources/refs/heads/main/archive/day-1-2/JAMB_CRS_Q1-35.txt
https://raw.githubusercontent.com/artificialiman/Questt-resources/refs/heads/main/archive/day-1-2/JAMB_Accounting_Q1-35.txt
https://raw.githubusercontent.com/artificialiman/Questt-resources/refs/heads/main/archive/day-1-2/JAMB_Commerce_Q1-35.txt
```

> Economics, Mathematics, History, Geography `.txt` bank files do NOT exist yet ‚Äî must be authored.

---

## 5. Files Built This Session (Not Yet in Repo)

| File | Notes |
|---|---|
| `index.html` | New all-exams landing hub. See Section 6 for full spec. Pending deploy + naming decision. |
| `quiz-economics.html` | 35 authored JAMB Economics questions. Back ‚Üí `commercial_clusters.html`. Ready to deploy. |
| `MINT_GUIDE.md` | Python minting guide (see Section 8). Reference document, not a repo file. |

---

## 6. index.html ‚Äî New All-Exams Hub (Built, Not Deployed)

Full dark premium design. Sections in order:

**Nav** ‚Äî `GrantApp` brand logo only. No badge. Sticky with blur backdrop.

**Hero** ‚Äî "Ace Every Exam You Face" with amber gradient on "Exam You Face". Animated amber orb behind. CTA ‚Üí `jamb.html`.

**Stats bar** ‚Äî 15,000+ Questions ¬∑ 4 Major Exams ¬∑ 100% Free ¬∑ 0 Ads. Ever.

**Exam cards grid** ‚Äî 4 cards:
- JAMB/UTME ‚Äî amber, `Live Now`, ‚Üí `jamb.html`
- WASSCE ‚Äî blue, `Coming Soon`, ‚Üí `coming-soon.html`
- AP Exams ‚Äî purple, `Coming Soon`, ‚Üí `coming-soon.html`
- 10K Mastery ‚Äî green, `Coming Soon`, ‚Üí `coming-soon.html`

**Community section** ‚Äî full-send design with:
- Giant ghost `COMMUNITY` word behind section (outlined, barely visible)
- Split header (headline left, copy right)
- **WhatsApp Group hero card** ‚Äî dark green gradient, floating bubble animations, breathing glowing icon, live pulse dot, ‚Üí `https://chat.whatsapp.com/BVloVed0PIDIbojLeRMQCU?mode=gi_t`
- **WhatsApp Channel card** ‚Äî dark blue gradient, animated EQ broadcast bars, ‚Üí `https://whatsapp.com/channel/0029VbCMrEVIyPtLYUrc7I3K`
- **TikTok card** ‚Äî dark red gradient, `Coming Soon`, ‚Üí `coming-soon.html`
- Stat strip (100% free ¬∑ 3 channels ¬∑ Daily drops ¬∑ 0 spam)

**Reviews ‚Äî TV news reel** ‚Äî macOS chrome TV frame with:
- Scanline CSS overlay
- Amber ticker tape scrolling live subject averages
- `LIVE` indicator
- 3 review cards per stream (Science 71/100, Arts 73/100, Commercial 68/100) with CSS bar charts and student quotes
- Bottom stats row (inside TV frame): +18pts avg gain ¬∑ 92% retention ¬∑ 4.8 rating ¬∑ Day 1 improvement

**Footer** ‚Äî 3-column:
- Brand + tagline + contact icons (WhatsApp + email, icon-only ‚Äî personal info hidden behind icons)
- Exams links (inline with ¬∑ separators, single line per column)
- Community links (inline with ¬∑ separators)
- Contact: `wa.me/2348087169891` (icon only) ¬∑ `artificialiman111@gmail.com` (icon only)

**Design decisions made this session:**
- Footer link lists are horizontal/inline, not vertical stacks
- Personal contact info is hidden behind icon buttons (not exposed as text)
- Nav has no badge
- Community cards: restored to full original spec (not compact) ‚Äî the "collage" note in session was a misread, owner confirmed full design is correct
- The TV news reel is final and untouched ‚Äî do not simplify it

---

## 7. JAMB Stream Map (Current State)

### Science Stream (`science_clusters.html`)
| Code | File | Subjects | Status |
|---|---|---|---|
| BEPC | `quiz-science-bepc.html` | Eng + Bio + Physics + Chem | ‚úÖ Live |
| BMPC | `quiz-science-bmpc.html` | Eng + Bio + Maths + Chem | ‚ùå Missing |
| EMPC | `quiz-science-empc.html` | Eng + Maths + Physics + Chem | ‚ùå Missing |
| EMPB | `quiz-science-empb.html` | Eng + Maths + Physics + Bio | ‚ùå Missing |

### Commercial Stream (`commercial_clusters.html`)
| Code | File | Subjects | Status |
|---|---|---|---|
| EACE | `quiz-commerce-a.html` | Eng + Acct + Commerce + Econ | ‚ö†Ô∏è Live but misleading ‚Äî no Maths |
| EMEG | `quiz-commercial-b.html` | Eng + Maths + Econ + Govt | ‚úÖ Built, not deployed |
| EEGC | `quiz-commercial-c.html` | Eng + Econ + Govt + Commerce | ‚úÖ Built, not deployed |

### Arts Stream (`art_clusters.html`)
| Code | File | Subjects | Status |
|---|---|---|---|
| ELGC | `quiz-arts-cluster-a.html` | Eng + Lit + Govt + CRS | ‚úÖ Built, not deployed |
| EHGE | `quiz-arts-ehge.html` | Eng + Govt + Hist + Econ | ‚ùå Missing (biggest gap) |
| EGEG | `quiz-arts-egeg.html` | Eng + Govt + Econ + Geog | ‚ùå Missing |

### Missing question banks needed
- Economics ‚Äî partially resolved: `quiz-economics.html` authored this session (35 questions)
- History ‚Äî must be authored
- Geography ‚Äî must be authored
- Physics `.txt` bank may not exist in Questt-resources repo (verify)

---

## 8. Python Minting System (`mint_quiz.py`)

**Core principle:** Python generates HTML quiz files from `.txt` question banks. JS handles only UI behaviour. This is the correct separation ‚Äî not JS doing the generation at runtime.

### `.txt` question format (current ‚Äî MCQ only)
```
1. Question text here?
A. Option A
B. Option B
C. Option C
D. Option D
Answer: B
Explanation: Why B is correct.
Exception: Common gotcha to watch for.
```

### `.txt` question format (extended ‚Äî for English/Literature/WAEC)

Three question types now supported. Python detects type by marker:

**Passage block** (defined once, referenced by ID):
```
[PASSAGE p1]
Title: The Return
---
Chike had not seen the village in fifteen years. The harmattan dust...
[/PASSAGE]
```

**Passage-linked MCQ** (tag before question text):
```
1. [passage:p1] According to the passage, why did Chike leave the village?
A. He was sent away by his father
B. He sought work in the city
C. He fled a conflict
D. He was exiled by the elders
Answer: B
Explanation: The second paragraph states he left seeking work.
```

**Theory question** (tag before question text):
```
6. [theory] In two paragraphs, discuss the theme of betrayal as presented in the passage.
MaxMarks: 5
MarkingGuide: Award 2 marks for identifying betrayal as a central theme. Award 2 marks for at least one textual reference. Award 1 mark for coherent expression.
```

### What Python stamps into the template

Above the `QUESTIONS` array, Python also stamps a `PASSAGES` constant:
```js
const PASSAGES = {
  p1: { title: 'The Return', text: `Full passage text here...` }
};
```

### QUESTIONS array shapes (all three types)

```js
// Standard MCQ (existing)
{ id: 1, subject: 'Chemistry', text: '...', options: {A,B,C,D}, answer: 'B', explanation: '...', exception: '...' }

// Passage-linked MCQ (new)
{ id: 1, subject: 'English', type: 'passage', passageId: 'p1', text: '...', options: {A,B,C,D}, answer: 'B', explanation: '...' }

// Theory (new)
{ id: 6, subject: 'English', type: 'theory', text: '...', markingGuide: '...', maxMarks: 5 }
```

### Script invocation
```bash
python mint_quiz.py \
  "Economics" \
  "commercial_clusters.html" \
  900 \
  "https://raw.githubusercontent.com/.../JAMB_Economics_Q1-35.txt" \
  "quiz-economics.html"
```

### What NOT to do
- Do not fetch `.txt` files at runtime in the browser ‚Äî Python fetches at build time
- Do not use JS to parse question data ‚Äî that is Python's job
- Do not hardcode questions in the script ‚Äî template and data stay separate

### GitHub Actions (future)
Wire a workflow to auto-mint when a new `.txt` lands in Questt-resources:
```yaml
on:
  push:
    paths: ['archive/**/*.txt']
jobs:
  mint:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - run: pip install requests
      - run: python mint_quiz.py ...
      - run: git add quiz-*.html && git commit -m "auto: mint" && git push
```

---

## 9. quiz-app.js ‚Äî Planned Updates (NOT YET DONE)

`quiz-app.js` needs two new rendering branches inside `_renderQuestion()`. Everything else (timer, palette, navigation, submit flow, results) stays untouched.

**Branch 1 ‚Äî `type: 'passage'`**
- Render a collapsible reading pane above the question text showing `PASSAGES[q.passageId]`
- Collapsible on mobile (toggle show/hide)
- Then render options A‚ÄìD as normal

**Branch 2 ‚Äî `type: 'theory'`**
- Render a `<textarea>` instead of A‚ÄìD option buttons
- Store typed text in `userAnswers[q.id]`
- On submit/reveal: show student's written answer alongside `q.markingGuide`
- Theory questions are skipped in auto-scoring ‚Äî shown in results with marking guide for self/teacher assessment
- Palette dot for theory questions uses a different colour (e.g. purple) to distinguish from MCQ

**New CSS needed in `quiz-styles.css`** (~40 lines):
- `.passage-pane` ‚Äî scrollable reading area, distinct background, collapsible
- `.passage-toggle` ‚Äî mobile collapse button
- `.theory-textarea` ‚Äî styled textarea matching dark theme
- `.marking-guide` ‚Äî reveal block shown post-submit
- `.palette-btn.theory` ‚Äî purple palette dot

**These changes have been designed but not written yet. Do not start on quiz-app.js updates without also updating quiz-styles.css and mint_quiz.py together.**

---

## 10. Design System

```css
:root {
  --bg: #0a0a0f;
  --surface: #111118;
  --border: #1e1e2e;
  --text: #f0eff4;
  --muted: #7a7a8c;
  --accent: #f59e0b;       /* amber ‚Äî GrantApp brand */

  /* Stream / exam colours */
  --science: #3b82f6;
  --science-glow: rgba(59,130,246,0.15);
  --arts: #a855f7;
  --arts-glow: rgba(168,85,247,0.15);
  --commerce: #10b981;
  --commerce-glow: rgba(16,185,129,0.15);

  /* Landing page exam card colours */
  --jamb: #f59e0b;
  --wassce: #3b82f6;
  --ap: #a855f7;
  --mastery: #10b981;

  /* Community card colours */
  --whatsapp-green: #25D366;
  --tiktok-red: #fe2c55;
}
```

**Card hover pattern (used everywhere):**
```css
.card:hover {
  transform: translateY(-4px);
  border-color: var(--stream-color);
  box-shadow: 0 0 30px var(--stream-glow);
}
.card::before {
  /* radial gradient glow, opacity 0‚Üí1 on hover */
  background: radial-gradient(ellipse at top left, var(--stream-glow), transparent 60%);
}
```

**Typography:**
- Headings: `Syne` 800/700/600, `letter-spacing: -0.04em`, tight line-height
- Body: `DM Sans` 300/400/500
- Labels/badges/mono: `Space Mono` 400/700

**Noise overlay (applied on all pages):**
```css
body::after {
  content: '';
  position: fixed; inset: 0;
  background-image: url("data:image/svg+xml,...fractalNoise...");
  pointer-events: none;
  z-index: 999;
  opacity: 0.4;
}
```

---

## 11. Quiz File Template Pattern

Every quiz HTML file follows this exact structure ‚Äî no exceptions:

```
1. <head>: quiz-styles.css + FA icons CDN
2. <script> FIRST in <body>: const DURATION + const PASSAGES (if needed) + const QUESTIONS
3. <header class="quiz-header">: subject name, timer SVG ring, calculator btn, submit btn
4. .quiz-container:
     <aside class="quiz-sidebar">: navigator, stats, palette, legend, Back button
     <main class="quiz-main">: question card + options/textarea + explanation + nav buttons
5. .mobile-palette-trigger
6. Modals: submitModal, timeUpModal, calculatorModal
7. <script src="quiz-app.js"> LAST
```

**DURATION values:**
- Individual subject (35q): `900` (15 min)
- Cluster exam (140q): `3600` (60 min)

**Back button always points to parent cluster:**
- Science ‚Üí `science_clusters.html`
- Commercial ‚Üí `commercial_clusters.html`
- Arts ‚Üí `art_clusters.html`

---

## 12. Known Issues / Outstanding Work

| Item | Priority | Notes |
|---|---|---|
| `coming-soon.html` does not exist | üî¥ Critical | All dead links site-wide 404 without this. Build first before any other deploy. |
| New `index.html` not deployed | üî¥ High | Ready. Blocked on naming decision for existing `index.html` (JAMB page). |
| `quiz-economics.html` not deployed | üü° Medium | Built this session. Drop in repo root. |
| `quiz-commerce-a.html` (EACE) is misleading | üî¥ High | No Maths ‚Äî can't enter university Accounting. Rename to "Business Studies", narrow course targets. |
| `quiz-commercial-b.html` not deployed | üü° Medium | EMEG cluster. Ready. |
| `quiz-commercial-c.html` not deployed | üü° Medium | EEGC cluster. Ready. Narrow course targets only. |
| `quiz-arts-cluster-a.html` not deployed | üü° Medium | ELGC cluster. Ready. |
| Economics `.txt` bank missing | üü° Medium | `quiz-economics.html` was authored directly this session (35 questions). A `.txt` bank file should still be added to Questt-resources for the minting pipeline. |
| History question bank missing | üü° Medium | Needed for EHGE cluster (biggest gap ‚Äî Political Science, Public Admin, Criminology). |
| Geography question bank missing | üü° Medium | Needed for EGEG cluster. |
| `quiz-app.js` theory/passage updates | üü° Medium | Designed, not written. Do all three files together: quiz-app.js + quiz-styles.css + mint_quiz.py. |
| `mint_quiz.py` does not exist yet | üü° Medium | Guide written (MINT_GUIDE.md). Script not built. |
| WAEC system quiz files | üîµ Future | Will use same mint pipeline with theory + passage question types. |

---

## 13. Immediate Next Steps (in order)

1. **Build `coming-soon.html`** ‚Äî branded, beautiful, collects WhatsApp/email for waitlist, links back to index
2. **Decide naming** for existing `index.html` (JAMB page) so new hub can deploy cleanly
3. **Deploy** `index.html` (hub), `quiz-economics.html`, and the 3 cluster files from previous session
4. **Fix `quiz-commerce-a.html`** ‚Äî rename, restrict course targeting
5. **Build `mint_quiz.py`** ‚Äî start with MCQ-only, then add passage + theory support
6. **Add Economics `.txt` to Questt-resources** ‚Äî so minting pipeline has it on record
7. **Author History + Geography question banks** ‚Üí build EHGE and EGEG clusters
8. **Update `quiz-app.js` + `quiz-styles.css`** for passage and theory question types (do together with mint_quiz.py update)
9. **Build WAEC quiz files** using the extended `.txt` format and updated mint pipeline
